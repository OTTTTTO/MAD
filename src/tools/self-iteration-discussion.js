#!/usr/bin/env node

/**
 * MAD è‡ªæˆ‘è¿­ä»£è®¨è®º
 * 
 * è®© MAD çš„ 6 ä¸ªä¸“ä¸š Agent è®¨è®º MAD é¡¹ç›®çš„åç»­å¼€å‘æ–¹å‘
 * ç›®æ ‡ï¼šæ¢ç´¢æ›´å¤šåŠŸèƒ½ç‚¹ï¼Œåˆ¶å®šå¼€å‘è®¡åˆ’
 */

const { DiscussionOrchestrator } = require('./orchestrator.js');

async function selfIterationDiscussion() {
  console.log('ğŸ¦ MAD è‡ªæˆ‘è¿­ä»£è®¨è®ºå¯åŠ¨\n');
  console.log('='.repeat(70));

  // 1. åˆå§‹åŒ–åè°ƒå™¨
  console.log('\nğŸ“‹ æ­¥éª¤ 1: åˆå§‹åŒ–åè°ƒå™¨...');
  const orchestrator = new DiscussionOrchestrator({
    maxDuration: 300000,  // 5åˆ†é’Ÿ
    maxRounds: 10,
    enableConflictDetection: true,
    enableDynamicSpeaking: true
  });
  
  await orchestrator.initialize();
  console.log('âœ… åè°ƒå™¨å·²åˆå§‹åŒ–\n');

  // 2. åˆ›å»ºè®¨è®º
  console.log('ğŸ“‹ æ­¥éª¤ 2: åˆ›å»ºè®¨è®ºç»„...');
  const discussionTopic = 
    'MAD é¡¹ç›® v1.8.0+ å¼€å‘è§„åˆ’ï¼šæ¢ç´¢æ–°åŠŸèƒ½ã€ä¼˜åŒ–ä½“éªŒã€æ‰©å±•èƒ½åŠ›èŒƒå›´\n' +
    'èƒŒæ™¯ï¼šå½“å‰å·²åˆ° v1.7.0ï¼ˆè®¨è®ºæ¨¡æ¿ç³»ç»Ÿï¼‰ï¼Œéœ€è¦è§„åˆ’åç»­ç‰ˆæœ¬\n' +
    'è¦æ±‚ï¼š\n' +
    '1. å¸‚åœºè°ƒç ” Agentï¼šäº†è§£ moltbook ç­‰ç«å“ï¼Œæå‡ºå·®å¼‚åŒ–åŠŸèƒ½\n' +
    '2. éœ€æ±‚åˆ†æ Agentï¼šåˆ†æç”¨æˆ·ç—›ç‚¹ï¼Œæå‡ºåŠŸèƒ½éœ€æ±‚\n' +
    '3. æŠ€æœ¯ Agentï¼šè¯„ä¼°å¯è¡Œæ€§ï¼Œæå‡ºæŠ€æœ¯æ–¹å‘\n' +
    '4. æµ‹è¯• Agentï¼šå…³æ³¨è´¨é‡ä¿éšœï¼Œæå‡ºæµ‹è¯•éœ€æ±‚\n' +
    '5. æ–‡æ¡£ Agentï¼šå…³æ³¨ç”¨æˆ·ä½“éªŒï¼Œæå‡ºæ”¹è¿›å»ºè®®\n' +
    '6. ç›®æ ‡ï¼šäº§å‡º 10+ ä¸ªå…·ä½“çš„åŠŸèƒ½ç‚¹ï¼Œå¹¶æ’åºä¼˜å…ˆçº§';
  
  const { discussionId, context, participants } = 
    await orchestrator.createDiscussion(discussionTopic);
  
  console.log(`âœ… è®¨è®ºç»„å·²åˆ›å»º: ${discussionId}`);
  console.log(`   ä¸»é¢˜: MAD é¡¹ç›®åç»­å¼€å‘è§„åˆ’`);
  console.log(`   å‚ä¸è€…: ${participants.map(p => p.role).join(', ')}\n`);

  // 3. æ¨¡æ‹Ÿå¤šè½®è®¨è®º
  console.log('ğŸ“‹ æ­¥éª¤ 3: å¼€å§‹å¤š Agent è®¨è®º...\n');
  console.log('â”€'.repeat(70));

  const rounds = [
    {
      round: 1,
      title: 'ç¬¬ä¸€è½®ï¼šç«å“åˆ†æä¸éœ€æ±‚æŒ–æ˜',
      messages: [
        { 
          role: 'coordinator', 
          content: 'å„ä½å¥½ï¼ä»Šå¤©æˆ‘ä»¬è®¨è®º MAD é¡¹ç›® v1.8.0+ çš„å¼€å‘è§„åˆ’ã€‚å…ˆè¯·å¸‚åœºè°ƒç ” Agent åˆ†äº«ä¸€ä¸‹å¯¹ moltbook ç­‰ç«å“çš„ç ”ç©¶ã€‚' 
        },
        { 
          role: 'market_research', 
          content: 'æˆ‘ç ”ç©¶äº† moltbook ç½‘ç«™ï¼Œå‘ç°å‡ ä¸ªäº®ç‚¹ï¼š\n' +
                   '1. æç®€çš„å¡ç‰‡å¼è®¾è®¡ï¼Œä¿¡æ¯å¯†åº¦é«˜\n' +
                   '2. å®æ—¶åä½œç¼–è¾‘ï¼Œç±»ä¼¼ Google Docs\n' +
                   '3. å¼ºå¤§çš„æœç´¢å’Œè¿‡æ»¤åŠŸèƒ½\n' +
                   '4. ç§»åŠ¨ç«¯ä½“éªŒä¼˜ç§€\n' +
                   'MAD å¯ä»¥å€Ÿé‰´ï¼šå®æ—¶åä½œã€ç§»åŠ¨ç«¯ä¼˜åŒ–ã€æ™ºèƒ½æ¨èè®¨è®ºå†…å®¹' 
        },
        { 
          role: 'requirement', 
          content: 'åŸºäºå¸‚åœºè°ƒç ”ï¼Œæˆ‘åˆ†æå‡ºå‡ ä¸ªç”¨æˆ·ç—›ç‚¹ï¼š\n' +
                   '1. æ— æ³•å®æ—¶çœ‹åˆ° Agent è®¨è®ºçš„"æ€è€ƒè¿‡ç¨‹"\n' +
                   '2. è®¨è®ºå†å²å¤ªé•¿ï¼Œéš¾ä»¥å¿«é€Ÿæ‰¾åˆ°å…³é”®ä¿¡æ¯\n' +
                   '3. æ— æ³•ä¿å­˜å’Œç®¡ç†å¤šä¸ªç‰ˆæœ¬çš„è®¨è®ºç»“æœ\n' +
                   '4. ç¼ºå°‘è®¨è®ºè´¨é‡çš„é‡åŒ–è¯„ä¼°\n' +
                   'å»ºè®®åŠŸèƒ½ï¼šå¯è§†åŒ–æ€ç»´é“¾ã€è®¨è®ºé«˜äº®ã€ç‰ˆæœ¬å¯¹æ¯”ã€è´¨é‡è¯„åˆ†' 
        },
      ]
    },
    {
      round: 2,
      title: 'ç¬¬äºŒè½®ï¼šæŠ€æœ¯æ–¹æ¡ˆä¸å¯è¡Œæ€§',
      messages: [
        { 
          role: 'technical', 
          content: 'ä»æŠ€æœ¯è§’åº¦è¯„ä¼°è¿™äº›éœ€æ±‚ï¼š\n' +
                   '1. å¯è§†åŒ–æ€ç»´é“¾ï¼šå¯è¡Œï¼Œéœ€è¦è®°å½• Agent çš„æ¨ç†æ­¥éª¤\n' +
                   '2. è®¨è®ºé«˜äº®ï¼šå®¹æ˜“ï¼Œå‰ç«¯å®ç°å³å¯\n' +
                   '3. ç‰ˆæœ¬å¯¹æ¯”ï¼šå¯è¡Œï¼Œéœ€è¦ä¿å­˜è®¨è®ºå¿«ç…§\n' +
                   '4. è´¨é‡è¯„åˆ†ï¼šå¯è¡Œï¼Œå¯ä»¥åŸºäºå¤šä¸ªç»´åº¦ï¼ˆåˆ›æ–°æ€§ã€å®Œæ•´æ€§ã€å¯è¡Œæ€§ï¼‰\n' +
                   'å»ºè®®æŠ€æœ¯æ–¹å‘ï¼šå¢åŠ  Agent æ¨ç†å¯è§†åŒ–ã€å®ç°è®¨è®ºå¿«ç…§ç³»ç»Ÿã€å¼€å‘è´¨é‡è¯„åˆ†ç®—æ³•' 
        },
        { 
          role: 'testing', 
          content: 'ä»æµ‹è¯•è§’åº¦å…³æ³¨ï¼š\n' +
                   '1. éœ€è¦æµ‹è¯•å¤š Agent å¹¶å‘è®¨è®ºçš„åœºæ™¯\n' +
                   '2. éœ€è¦æµ‹è¯•è®¨è®ºè´¨é‡è¯„åˆ†çš„å‡†ç¡®æ€§\n' +
                   '3. éœ€è¦æµ‹è¯•ç‰ˆæœ¬å¯¹æ¯”çš„æ­£ç¡®æ€§\n' +
                   '4. éœ€è¦å‹åŠ›æµ‹è¯•ï¼ˆå¤šä¸ªè®¨è®ºç»„åŒæ—¶è¿è¡Œï¼‰\n' +
                   'å»ºè®®ï¼šå¢åŠ è‡ªåŠ¨åŒ–æµ‹è¯•è¦†ç›–ã€æ€§èƒ½åŸºå‡†æµ‹è¯•ã€è´¨é‡è¯„åˆ†éªŒè¯' 
        },
      ]
    },
    {
      round: 3,
      title: 'ç¬¬ä¸‰è½®ï¼šåŠŸèƒ½ä¼˜å…ˆçº§æ’åº',
      messages: [
        { 
          role: 'documentation', 
          content: 'ä»ç”¨æˆ·ä½“éªŒå’Œæ–‡æ¡£è§’åº¦ï¼š\n' +
                   'æœ€é«˜ä¼˜å…ˆçº§ï¼ˆP0ï¼‰ï¼š\n' +
                   '1. è®¨è®ºé«˜äº®å’Œæ ‡æ³¨ - ç”¨æˆ·æœ€éœ€è¦\n' +
                   '2. å¯è§†åŒ–æ€ç»´é“¾ - å·®å¼‚åŒ–åŠŸèƒ½\n' +
                   '3. è®¨è®ºè´¨é‡è¯„åˆ† - å¢åŠ ä»·å€¼æ„Ÿ\n' +
                   '\n' +
                   'ä¸­ç­‰ä¼˜å…ˆçº§ï¼ˆP1ï¼‰ï¼š\n' +
                   '4. è®¨è®ºç‰ˆæœ¬å¯¹æ¯”\n' +
                   '5. å®æ—¶åä½œç¼–è¾‘\n' +
                   '6. ç§»åŠ¨ç«¯ä¼˜åŒ–\n' +
                   '\n' +
                   'ä½ä¼˜å…ˆçº§ï¼ˆP2ï¼‰ï¼š\n' +
                   '7. è®¨è®ºæ¨¡æ¿å¸‚åœº\n' +
                   '8. Agent è‡ªå®šä¹‰\n' +
                   '9. å¤šè¯­è¨€æ”¯æŒ' 
        },
        { 
          role: 'coordinator', 
          content: 'éå¸¸å¥½ï¼æˆ‘ä»¬å·²ç»äº§å‡ºäº† 9 ä¸ªåŠŸèƒ½ç‚¹ã€‚è®©æˆ‘æ€»ç»“ä¸€ä¸‹ä¼˜å…ˆçº§ï¼š\n' +
                   '\n' +
                   'ğŸ”´ P0ï¼ˆç«‹å³å¼€å‘ï¼‰ï¼š\n' +
                   '1. è®¨è®ºé«˜äº®å’Œæ ‡æ³¨\n' +
                   '2. å¯è§†åŒ–æ€ç»´é“¾\n' +
                   '3. è®¨è®ºè´¨é‡è¯„åˆ†\n' +
                   '\n' +
                   'ğŸŸ¡ P1ï¼ˆè¿‘æœŸè§„åˆ’ï¼‰ï¼š\n' +
                   '4. è®¨è®ºç‰ˆæœ¬å¯¹æ¯”\n' +
                   '5. å®æ—¶åä½œç¼–è¾‘\n' +
                   '6. ç§»åŠ¨ç«¯ä¼˜åŒ–\n' +
                   '\n' +
                   'ğŸŸ¢ P2ï¼ˆé•¿æœŸæ„¿æ™¯ï¼‰ï¼š\n' +
                   '7. è®¨è®ºæ¨¡æ¿å¸‚åœº\n' +
                   '8. Agent è‡ªå®šä¹‰\n' +
                   '9. å¤šè¯­è¨€æ”¯æŒ\n' +
                   '\n' +
                   'è¿˜æœ‰å…¶ä»–è¡¥å……å—ï¼Ÿ' 
        },
        { 
          role: 'market_research', 
          content: 'æˆ‘å†è¡¥å…… 3 ä¸ªåˆ›æ–°åŠŸèƒ½ï¼š\n' +
                   '10. è®¨è®ºæ™ºèƒ½æ¨è - åŸºäºå†å²è®¨è®ºæ¨èç›¸å…³å†…å®¹\n' +
                   '11. Agent èƒ½åŠ›å¯è§†åŒ– - å±•ç¤ºæ¯ä¸ª Agent çš„æ“…é•¿é¢†åŸŸ\n' +
                   '12. è®¨è®ºå¯¼å‡ºç¾åŒ– - æ”¯æŒå¯¼å‡ºä¸ºç²¾ç¾çš„ PDF æŠ¥å‘Š\n' +
                   'è¿™äº›åŠŸèƒ½å¯ä»¥å¢åŠ äº§å“çš„å·®å¼‚åŒ–ç«äº‰åŠ›ï¼' 
        },
      ]
    },
    {
      round: 4,
      title: 'ç¬¬å››è½®ï¼šæŠ€æœ¯å®ç°è·¯å¾„',
      messages: [
        { 
          role: 'technical', 
          content: 'åŸºäºè¿™äº›åŠŸèƒ½ï¼Œæˆ‘å»ºè®®çš„æŠ€æœ¯è·¯å¾„ï¼š\n' +
                   '\n' +
                   'v1.8.0 - è®¨è®ºå¢å¼ºï¼ˆP0ï¼‰\n' +
                   '- å‰ç«¯ï¼šé«˜äº®åŠŸèƒ½ã€æ€ç»´é“¾å¯è§†åŒ–\n' +
                   '- åç«¯ï¼šè´¨é‡è¯„åˆ†ç®—æ³•\n' +
                   '\n' +
                   'v1.9.0 - åä½œä¼˜åŒ–ï¼ˆP1ï¼‰\n' +
                   '- ç‰ˆæœ¬å¯¹æ¯”ç³»ç»Ÿ\n' +
                   '- å®æ—¶åä½œï¼ˆWebSocket ä¼˜åŒ–ï¼‰\n' +
                   '\n' +
                   'v2.0.0 - é‡å¤§å‡çº§ï¼ˆP2ï¼‰\n' +
                   '- æ¨¡æ¿å¸‚åœº\n' +
                   '- Agent è‡ªå®šä¹‰\n' +
                   '- ä»£ç é‡æ„' 
        },
        { 
          role: 'testing', 
          content: 'æˆ‘è¡¥å……æµ‹è¯•è®¡åˆ’ï¼š\n' +
                   '\n' +
                   'v1.8.0 æµ‹è¯•é‡ç‚¹ï¼š\n' +
                   '- é«˜äº®åŠŸèƒ½çš„å„ç§åœºæ™¯\n' +
                   '- æ€ç»´é“¾å¯è§†åŒ–çš„æ€§èƒ½\n' +
                   '- è´¨é‡è¯„åˆ†çš„å‡†ç¡®æ€§\n' +
                   '\n' +
                   'å»ºè®®ï¼šæ¯ä¸ªç‰ˆæœ¬éƒ½è¦æœ‰å®Œæ•´çš„æµ‹è¯•ç”¨ä¾‹å’Œæ€§èƒ½åŸºå‡†' 
        },
      ]
    },
    {
      round: 5,
      title: 'ç¬¬äº”è½®ï¼šæœ€ç»ˆå…±è¯†',
      messages: [
        { 
          role: 'coordinator', 
          content: 'éå¸¸å¥½ï¼ç»è¿‡ 4 è½®è®¨è®ºï¼Œæˆ‘ä»¬å·²ç»å½¢æˆäº†å®Œæ•´çš„å¼€å‘è§„åˆ’ï¼š\n' +
                   '\n' +
                   'ğŸ“Š åŠŸèƒ½æ¸…å•ï¼ˆ12 ä¸ªåŠŸèƒ½ç‚¹ï¼‰ï¼š\n' +
                   '1. è®¨è®ºé«˜äº®å’Œæ ‡æ³¨\n' +
                   '2. å¯è§†åŒ–æ€ç»´é“¾\n' +
                   '3. è®¨è®ºè´¨é‡è¯„åˆ†\n' +
                   '4. è®¨è®ºç‰ˆæœ¬å¯¹æ¯”\n' +
                   '5. å®æ—¶åä½œç¼–è¾‘\n' +
                   '6. ç§»åŠ¨ç«¯ä¼˜åŒ–\n' +
                   '7. è®¨è®ºæ™ºèƒ½æ¨è\n' +
                   '8. Agent èƒ½åŠ›å¯è§†åŒ–\n' +
                   '9. è®¨è®ºå¯¼å‡ºç¾åŒ–ï¼ˆPDFï¼‰\n' +
                   '10. è®¨è®ºæ¨¡æ¿å¸‚åœº\n' +
                   '11. Agent è‡ªå®šä¹‰\n' +
                   '12. å¤šè¯­è¨€æ”¯æŒ\n' +
                   '\n' +
                   'ğŸ“… å¼€å‘è®¡åˆ’ï¼š\n' +
                   '- v1.8.0: P0 åŠŸèƒ½ï¼ˆè®¨è®ºå¢å¼ºï¼‰\n' +
                   '- v1.9.0: P1 åŠŸèƒ½ï¼ˆåä½œä¼˜åŒ–ï¼‰\n' +
                   '- v2.0.0: P2 åŠŸèƒ½ï¼ˆé‡å¤§å‡çº§ï¼‰\n' +
                   '\n' +
                   'âœ… å…¨ä½“åŒæ„è¿™ä¸ªè§„åˆ’å—ï¼Ÿ' 
        },
        { 
          role: 'requirement', 
          content: 'âœ… åŒæ„ï¼è¿™ä¸ªè§„åˆ’è¦†ç›–äº†ç”¨æˆ·ç—›ç‚¹ï¼Œå…·æœ‰å¯è¡Œæ€§ã€‚å»ºè®® v1.8.0 å°½å¿«å¼€å§‹ã€‚' 
        },
        { 
          role: 'technical', 
          content: 'âœ… åŒæ„ï¼æŠ€æœ¯è·¯å¾„æ¸…æ™°ï¼Œå¯ä»¥ç«‹å³å¼€å§‹ v1.8.0 çš„å¼€å‘ã€‚' 
        },
        { 
          role: 'testing', 
          content: 'âœ… åŒæ„ï¼æˆ‘ä¼šä¸ºæ¯ä¸ªç‰ˆæœ¬å‡†å¤‡æµ‹è¯•è®¡åˆ’ã€‚' 
        },
        { 
          role: 'documentation', 
          content: 'âœ… åŒæ„ï¼æˆ‘ä¼šæ›´æ–°æ–‡æ¡£ï¼Œè®°å½•è¿™äº›æ–°åŠŸèƒ½çš„ä½¿ç”¨æ–¹å¼ã€‚' 
        },
        { 
          role: 'market_research', 
          content: 'âœ… åŒæ„ï¼è¿™ 12 ä¸ªåŠŸèƒ½ç‚¹éƒ½æœ‰å¸‚åœºä»·å€¼ï¼Œèƒ½å¤Ÿæå‡ç«äº‰åŠ›ã€‚' 
        },
        { 
          role: 'coordinator', 
          content: 'ğŸ‰ å®Œç¾ï¼å…¨ä½“ä¸€è‡´é€šè¿‡ï¼\n' +
                   '\n' +
                   'ğŸ“‹ è®¨è®ºæ€»ç»“ï¼š\n' +
                   '- å‚ä¸è€…ï¼š6 ä¸ªä¸“ä¸š Agent\n' +
                   '- è®¨è®ºè½®æ¬¡ï¼š5 è½®\n' +
                   '- äº§å‡ºåŠŸèƒ½ï¼š12 ä¸ª\n' +
                   '- å¼€å‘è®¡åˆ’ï¼šv1.8.0 â†’ v2.0.0\n' +
                   '- é¢„è®¡æ—¶é—´ï¼šæ¯ä¸ªç‰ˆæœ¬ 1-2 å°æ—¶\n' +
                   '\n' +
                   'ğŸš€ ä¸‹ä¸€æ­¥ï¼šç«‹å³å¼€å§‹ v1.8.0 å¼€å‘ï¼\n' +
                   '\n' +
                   'è®¨è®ºç»“æŸï¼' 
        },
      ]
    },
  ];

  // æ‰§è¡Œæ‰€æœ‰è½®æ¬¡
  for (const round of rounds) {
    console.log(`\n${round.title}`);
    console.log('â”€'.repeat(70));
    
    for (const msg of round.messages) {
      const participant = participants.find(p => p.id === msg.role);
      if (participant) {
        const emoji = participant.emoji || 'ğŸ’¬';
        const roleName = participant.role;
        
        console.log(`\n${emoji} [${roleName}]`);
        console.log(msg.content);
        
        await orchestrator.agentSpeak(discussionId, msg.role, msg.content);
        await new Promise(resolve => setTimeout(resolve, 300));
      }
    }
  }

  console.log('\n' + 'â”€'.repeat(70));

  // 4. æŸ¥çœ‹è®¨è®ºå†å²
  console.log('\nğŸ“‹ æ­¥éª¤ 4: æŸ¥çœ‹è®¨è®ºå†å²...');
  const history = orchestrator.getDiscussionHistory(discussionId);
  console.log(`âœ… å…±æœ‰ ${history.messages.length} æ¡æ¶ˆæ¯\n`);

  // 5. ç»“æŸè®¨è®º
  console.log('ğŸ“‹ æ­¥éª¤ 5: ç»“æŸè®¨è®ºå¹¶ç”Ÿæˆæ€»ç»“...');
  const summary = await orchestrator.endDiscussion(discussionId);
  console.log('âœ… è®¨è®ºå·²ç»“æŸ\n');

  // 6. æ˜¾ç¤ºæ€»ç»“
  console.log('='.repeat(70));
  console.log('ğŸ“Š è®¨è®ºæ€»ç»“\n');
  console.log(`è®¨è®ºä¸»é¢˜: MAD é¡¹ç›® v1.8.0+ å¼€å‘è§„åˆ’`);
  console.log(`æ¶ˆæ¯æ•°é‡: ${summary.messages.length}`);
  console.log(`è®¨è®ºæ—¶é•¿: ${Math.round((summary.discussion.endedAt - summary.discussion.createdAt) / 1000)} ç§’`);
  console.log(`è®¨è®ºè½®æ¬¡: 5 è½®`);
  console.log('\nå‚ä¸è§’è‰²:');
  summary.participants.forEach(p => {
    if (p.id !== 'coordinator') {
      const messageCount = summary.messages.filter(m => m.participantId === p.id).length;
      console.log(`  - ${p.emoji} ${p.role} (${messageCount} æ¡æ¶ˆæ¯)`);
    }
  });

  console.log('\n' + '='.repeat(70));
  console.log('âœ¨ MAD è‡ªæˆ‘è¿­ä»£è®¨è®ºå®Œæˆï¼\n');
  
  console.log('ğŸ“‹ äº§å‡ºçš„ 12 ä¸ªåŠŸèƒ½ç‚¹ï¼š');
  console.log('  1. è®¨è®ºé«˜äº®å’Œæ ‡æ³¨');
  console.log('  2. å¯è§†åŒ–æ€ç»´é“¾');
  console.log('  3. è®¨è®ºè´¨é‡è¯„åˆ†');
  console.log('  4. è®¨è®ºç‰ˆæœ¬å¯¹æ¯”');
  console.log('  5. å®æ—¶åä½œç¼–è¾‘');
  console.log('  6. ç§»åŠ¨ç«¯ä¼˜åŒ–');
  console.log('  7. è®¨è®ºæ™ºèƒ½æ¨è');
  console.log('  8. Agent èƒ½åŠ›å¯è§†åŒ–');
  console.log('  9. è®¨è®ºå¯¼å‡ºç¾åŒ–ï¼ˆPDFï¼‰');
  console.log('  10. è®¨è®ºæ¨¡æ¿å¸‚åœº');
  console.log('  11. Agent è‡ªå®šä¹‰');
  console.log('  12. å¤šè¯­è¨€æ”¯æŒ');
  
  console.log('\nğŸ“… å¼€å‘è®¡åˆ’ï¼š');
  console.log('  - v1.8.0: P0 åŠŸèƒ½ï¼ˆè®¨è®ºå¢å¼ºï¼‰');
  console.log('  - v1.9.0: P1 åŠŸèƒ½ï¼ˆåä½œä¼˜åŒ–ï¼‰');
  console.log('  - v2.0.0: P2 åŠŸèƒ½ï¼ˆé‡å¤§å‡çº§ï¼‰');
  console.log('\n');
}

// è¿è¡Œ
if (require.main === module) {
  selfIterationDiscussion().catch(error => {
    console.error('âŒ é”™è¯¯:', error.message);
    console.error(error.stack);
    process.exit(1);
  });
}

module.exports = { selfIterationDiscussion };
